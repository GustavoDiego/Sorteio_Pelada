import{a as k,b as j,c as O,d as G}from"./chunk-AGFM7SM6.js";import{A as D,f as y,g as S,i as w,j as l,l as P,m as C,p as E,r as R,s as T,w as I,y as M,z as A}from"./chunk-7HVIFHBR.js";import"./chunk-F2X3VGZZ.js";import{Aa as N,Da as B,f as _,ha as c,i as b,wa as F,ya as x}from"./chunk-GNGLMIXC.js";import{Ca as p,Db as h,Ka as v,Qa as d,Xa as n,db as t,eb as o,fb as u,lb as f,wb as a,xa as i}from"./chunk-ZTHY6GRW.js";function z(r,s){r&1&&(t(0,"small",9),a(1," Campo obrigat\xF3rio "),o())}function L(r,s){r&1&&(t(0,"small",9),a(1," O nome de usu\xE1rio n\xE3o pode conter espa\xE7os "),o())}function V(r,s){r&1&&(t(0,"small",9),a(1," Campo obrigat\xF3rio "),o())}function U(r,s){r&1&&(t(0,"small",9),a(1," A senha deve ter no m\xEDnimo 8 caracteres "),o())}function $(r,s){r&1&&(t(0,"small",9),a(1," A senha deve ter no m\xE1ximo 32 caracteres "),o())}function J(r,s){r&1&&(t(0,"small",9),a(1," A senha deve conter ao menos uma letra min\xFAscula, uma mai\xFAscula e um n\xFAmero "),o())}function W(r,s){r&1&&(t(0,"div",10),u(1,"p-progressSpinner",11),o())}var q=class r{constructor(s,m,e,g){this.fb=s;this.authService=m;this.router=e;this.message=g;this.form=this.fb.nonNullable.group({username:["",[l.required,l.pattern(/^\S+$/)]],password:["",[l.required,l.minLength(8),l.maxLength(32),l.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/)]]})}loading=!1;form;register(){this.form.invalid||(this.loading=!0,this.authService.register(this.form.value).subscribe({next:()=>{this.message.add({severity:"success",summary:"Cadastro realizado",detail:"Voc\xEA j\xE1 pode fazer login!",life:2e3}),this.router.navigateByUrl("/login")},error:()=>{this.message.add({severity:"error",summary:"Erro no cadastro",detail:"Tente novamente com outro nome de usu\xE1rio",life:3e3}),this.loading=!1},complete:()=>{this.loading=!1}}))}goToLogin(){this.router.navigateByUrl("/login")}static \u0275fac=function(m){return new(m||r)(p(I),p(B),p(N),p(c))};static \u0275cmp=v({type:r,selectors:[["app-register"]],features:[h([c])],decls:18,vars:10,consts:[[1,"login-wrapper"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"title"],["type","text","pInputText","","formControlName","username","placeholder","Usu\xE1rio"],["class","error",4,"ngIf"],["type","password","pPassword","","formControlName","password","placeholder","Senha",3,"feedback"],["pButton","","type","submit",3,"disabled"],["pButton","","type","button",1,"p-button-text","register-button",3,"click"],["class","loading",4,"ngIf"],[1,"error"],[1,"loading"],["strokeWidth","6","animationDuration","0.5s","styleClass","spinner"]],template:function(m,e){m&1&&(u(0,"p-toast"),t(1,"div",0)(2,"form",1),f("ngSubmit",function(){return e.register()}),t(3,"h2",2),a(4,"Registrar-se"),o(),u(5,"input",3),d(6,z,2,0,"small",4)(7,L,2,0,"small",4),u(8,"input",5),d(9,V,2,0,"small",4)(10,U,2,0,"small",4)(11,$,2,0,"small",4)(12,J,2,0,"small",4),t(13,"button",6),a(14,"Cadastrar"),o(),t(15,"button",7),f("click",function(){return e.goToLogin()}),a(16," J\xE1 tem conta? Entrar "),o(),d(17,W,2,0,"div",8),o()()),m&2&&(i(2),n("formGroup",e.form),i(4),n("ngIf",e.form.controls.username.touched&&(e.form.controls.username.errors==null?null:e.form.controls.username.errors.required)),i(),n("ngIf",e.form.controls.username.touched&&(e.form.controls.username.errors==null?null:e.form.controls.username.errors.pattern)),i(),n("feedback",!1),i(),n("ngIf",e.form.controls.password.touched&&(e.form.controls.password.errors==null?null:e.form.controls.password.errors.required)),i(),n("ngIf",e.form.controls.password.touched&&(e.form.controls.password.errors==null?null:e.form.controls.password.errors.minlength)),i(),n("ngIf",e.form.controls.password.touched&&(e.form.controls.password.errors==null?null:e.form.controls.password.errors.maxlength)),i(),n("ngIf",e.form.controls.password.touched&&(e.form.controls.password.errors==null?null:e.form.controls.password.errors.pattern)),i(),n("disabled",e.loading),i(4),n("ngIf",e.loading))},dependencies:[b,_,M,E,w,P,C,R,T,D,A,j,k,x,F,S,y,G,O],styles:[".login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#121212;padding:1rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;background:#1c1c1e;padding:2rem;border-radius:12px;width:100%;max-width:400px;color:#fff}.title[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem;color:#e74c3c;font-weight:700}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px}.error[_ngcontent-%COMP%]{font-size:.75rem;color:#ff6b6b;margin-top:-.5rem;margin-bottom:.5rem}"]})};export{q as RegisterPage};
